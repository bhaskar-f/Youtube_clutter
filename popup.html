<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Declutter</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup.css" />
  </head>

  <body class="dark-mode">
    <header class="header">
      <h1><span class="yt-red">YouTube</span> Edu</h1>

      <div class="theme-buttons">
        <button id="lightMode" class="theme-btn" title="Light Mode">
          <span class="material-icons-outlined">light_mode</span>
        </button>
        <button id="darkMode" class="theme-btn active" title="Dark Mode">
          <span class="material-icons-outlined">dark_mode</span>
        </button>
      </div>
    </header>

    <main class="content">
      <section>
        <h2>General</h2>
        <div class="grid">
          <label>
            <i class="material-icons-outlined">home</i>
            <span>Hide Home Feed</span>
            <input type="checkbox" id="hideHome" />
          </label>
          <label>
            <i class="material-icons-outlined">view_sidebar</i>
            <span>Hide Sidebar</span>
            <input type="checkbox" id="hideSidebar" />
          </label>
          <label>
            <i class="material-icons-outlined">comment</i>
            <span>Hide Comments</span>
            <input type="checkbox" id="hideComments" />
          </label>
          <label>
            <i class="material-icons-outlined">smart_display</i>
            <span>Hide Shorts</span>
            <input type="checkbox" id="hideShorts" />
          </label>
          <label>
            <i class="material-icons-outlined">menu</i>
            <span>Hide Header</span>
            <input type="checkbox" id="hideHeader" />
          </label>
          <label>
            <i class="material-icons-outlined">tune</i>
            <span>Hide Chip Bar</span>
            <input type="checkbox" id="hideChipBar" />
          </label>
          <label>
            <i class="material-icons-outlined">explore</i>
            <span>Hide Explore</span>
            <input type="checkbox" id="hideExplore" />
          </label>
        </div>
      </section>

      <section>
        <h2>Video Page</h2>
        <div class="grid">
          <label>
            <i class="material-icons-outlined">description</i>
            <span>Hide Video Description</span>
            <input type="checkbox" id="hideVideoDescription" />
          </label>
          <label>
            <i class="material-icons-outlined">account_circle</i>
            <span>Hide Channel Info</span>
            <input type="checkbox" id="hideChannelInfo" />
          </label>
          <label>
            <i class="material-icons-outlined">favorite_border</i>
            <span>Hide Engagement Buttons</span>
            <input type="checkbox" id="hideEngagementButtons" />
          </label>
          <label>
            <i class="material-icons-outlined">queue_play_next</i>
            <span>Hide Suggested Videos</span>
            <input type="checkbox" id="hideSuggestedVideos" />
          </label>
          <label>
            <i class="material-icons-outlined">title</i>
            <span>Hide Video Title</span>
            <input type="checkbox" id="hideVideoTitle" />
          </label>
          <label>
            <i class="material-icons-outlined">storefront</i>
            <span>Hide Merch Shelf</span>
            <input type="checkbox" id="hideMerchShelf" />
          </label>
        </div>
      </section>

      <!-- EduTube Section -->
      <section class="edutube-section">
        <h2>üéì EduTube Mode</h2>
        <div class="edutube-info">
          <p>
            Transform YouTube into an educational platform. Uses hybrid
            filtering: Whitelist ‚Üí Keywords ‚Üí YouTube API ‚Üí Fallback.
          </p>
        </div>

        <div class="edutube-toggle">
          <label class="edutube-main-toggle">
            <i class="material-icons-outlined">school</i>
            <span>Enable EduTube Mode</span>
            <input type="checkbox" id="edutubeEnabled" />
          </label>
        </div>

        <div
          class="edutube-settings"
          id="edutubeSettings"
          style="display: none"
        >
          <!-- Sensitivity Slider -->
          <div class="edutube-sensitivity">
            <label class="sensitivity-label">
              <span>Filter Sensitivity</span>
              <span id="sensitivityValue">Balanced</span>
            </label>
            <input
              type="range"
              id="edutubeSensitivity"
              min="0"
              max="100"
              value="50"
              step="1"
            />
            <div class="sensitivity-labels">
              <span>Relaxed</span>
              <span>Balanced</span>
              <span>Strict</span>
            </div>
          </div>

          <!-- API Key Section -->
          <div class="api-section">
            <div class="api-header">
              <span class="api-title">
                <i class="material-icons-outlined">key</i>
                YouTube API (Optional)
              </span>
              <button
                class="api-help-btn"
                id="apiHelpBtn"
                title="How to get API key"
              >
                ?
              </button>
            </div>

            <div class="api-help" id="apiHelp" style="display: none">
              <p><strong>Get FREE YouTube API Key:</strong></p>
              <ol>
                <li>
                  Go to
                  <a href="https://console.cloud.google.com" target="_blank"
                    >Google Cloud Console</a
                  >
                </li>
                <li>Create new project</li>
                <li>Enable "YouTube Data API v3"</li>
                <li>Create credentials (API key)</li>
                <li>Paste key below</li>
              </ol>
              <p><small>Free tier: 10,000 units/day (~2,000 videos)</small></p>
            </div>

            <div class="api-input-group">
              <input
                type="text"
                id="youtubeApiKey"
                placeholder="Enter YouTube API Key (optional)"
                autocomplete="off"
              />
              <button id="saveApiKey" class="api-save-btn">Save</button>
            </div>

            <div class="api-status" id="apiStatus">
              <span class="status-indicator" id="apiStatusIndicator">‚óè</span>
              <span id="apiStatusText">No API key set</span>
            </div>

            <div class="api-quota" id="apiQuota" style="display: none">
              <div class="quota-bar-container">
                <div class="quota-bar" id="quotaBar" style="width: 0%"></div>
              </div>
              <div class="quota-text">
                <span id="quotaUsed">0</span> /
                <span id="quotaLimit">10,000</span> units used
                <span class="quota-reset"
                  >Resets: <span id="quotaReset">--</span></span
                >
              </div>
            </div>
          </div>

          <!-- Stats -->
          <div class="edutube-stats">
            <div class="stat-item">
              <span class="stat-value" id="videosHidden">0</span>
              <span class="stat-label">Videos Hidden</span>
            </div>
            <div class="stat-item">
              <span class="stat-value" id="videosShown">0</span>
              <span class="stat-label">Educational Shown</span>
            </div>
          </div>

          <!-- Layer Stats -->
          <details class="layer-stats">
            <summary>Filter Layer Statistics</summary>
            <div class="layer-grid">
              <div class="layer-item">
                <span class="layer-name">Whitelist</span>
                <span class="layer-value" id="layerWhitelist">0</span>
              </div>
              <div class="layer-item">
                <span class="layer-name">Blacklist</span>
                <span class="layer-value" id="layerBlacklist">0</span>
              </div>
              <div class="layer-item">
                <span class="layer-name">Keywords</span>
                <span class="layer-value" id="layerKeywords">0</span>
              </div>
              <div class="layer-item">
                <span class="layer-name">YouTube API</span>
                <span class="layer-value" id="layerApi">0</span>
              </div>
              <div class="layer-item">
                <span class="layer-name">Fallback</span>
                <span class="layer-value" id="layerFallback">0</span>
              </div>
            </div>
          </details>
          
          <!-- Whitelist / Blacklist Management -->
          <div class="list-management">
            <h3>Personalization</h3>
            <div class="lists-container">
              <div class="list-block">
                <h4>‚úÖ Whitelist <span id="wlCount" class="count-badge">0</span></h4>
                <div class="add-row">
                  <input type="text" id="wlInput" placeholder="Paste YouTube URL or ID" />
                  <select id="wlKind">
                    <option value="auto">Auto</option>
                    <option value="channel">Channel</option>
                    <option value="video">Video</option>
                  </select>
                  <button id="wlAddBtn">Add</button>
                  <button id="wlAddCurrentVideo" title="Add current video">+ Current Video</button>
                  <button id="wlAddCurrentChannel" title="Add current channel">+ Current Channel</button>
                </div>
                <small id="wlHint" class="hint" style="display:none"></small>
                <ul id="wlList" class="id-list"></ul>
              </div>
              <div class="list-block">
                <h4>üö´ Blacklist <span id="blCount" class="count-badge">0</span></h4>
                <div class="add-row">
                  <input type="text" id="blInput" placeholder="Paste YouTube URL or ID" />
                  <select id="blKind">
                    <option value="auto">Auto</option>
                    <option value="channel">Channel</option>
                    <option value="video">Video</option>
                  </select>
                  <button id="blAddBtn">Add</button>
                  <button id="blAddCurrentVideo" title="Add current video">+ Current Video</button>
                  <button id="blAddCurrentChannel" title="Add current channel">+ Current Channel</button>
                </div>
                <small id="blHint" class="hint" style="display:none"></small>
                <ul id="blList" class="id-list"></ul>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>v5.0 ‚Ä¢ YouTube decluttered ‚ù§Ô∏è</p>
    </footer>

    <script src="popup.js"></script>
  </body>
</html>
